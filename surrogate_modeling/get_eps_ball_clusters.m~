function cluster_id = get_eps_ball_clusters(X,eps)

cluster_id = zeros(size(X));
cluster_id(1) = 1;
cur_n_clusts = 1;

clust_avgs = X;
is_clustered = zeros(size(X));
for i = 2:length(X)
    dist_vec = sqrt((X(i) - clust_avgs).^2);
    dist_vec(i) = Inf;
    [a,b] = min(dist_vec);
    if a < eps & cluster_id(b) ~= 0
        cluster_id(i) = cluster_id(b);
        %move points in cluster to cluster avg
        cur_set = find(cluster_id == cluster_id(b)); 
        clust_avgs(cur_set) = mean(X(cur_set));
    else
        cur_n_clusts = cur_n_clusts + 1;
        cluster_id(i) = cur_n_clusts;
    end
end

